<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>오손도손 · 대시보드</title>
  <link rel="stylesheet" href="../css/home.css" />
</head>
<body>
  <div class="wrap">
    <header>
      <div class="header-inner">
        <div class="brand">
          <div class="brand-badge" aria-hidden="true">
            <svg viewBox="0 0 24 24"><path d="M12 3a9 9 0 100 18 9 9 0 000-18Zm0 3.5a1.25 1.25 0 110 2.5 1.25 1.25 0 010-2.5Zm0 4.25a.75.75 0 01.75.75v6.25a.75.75 0 01-1.5 0V11.5a.75.75 0 01.75-.75Z"/></svg>
          </div>
          <div>오손도손 <span class="sub">대시보드</span></div>
        </div>
        <div class="spacer"></div>
        <nav class="top-actions" aria-label="상단 내비게이션">
          <a class="btn" href="board.html">게시판</a>
          <a class="btn" href="/stats/">통계</a>
          <a class="btn" href="/settings/">설정</a>
          <a class="btn btn-primary" href="/messages/thread.html">메시지</a>
        </nav>
      </div>
    </header>

    <main>
      <div class="grid">
        <!-- 메인 칼럼 -->
        <section class="card">
          <div class="card-header">
            <h3>우리 집 데시벨 요약</h3>
            <p class="sub">오늘의 소음 현황과 최근 24시간 추세</p>
          </div>
          <div class="card-body">
            <div class="kpi">
              <div class="k">
                <div class="label">현재 데시벨</div>
                <div class="value" id="kpi-now" data-db="48">48 dB</div>
                <div class="badge b-good">양호</div>
              </div>
              <div class="k">
                <div class="label">오늘 최고</div>
                <div class="value" id="kpi-peak" data-db="72">72 dB</div>
                <div class="badge b-warn">주의 시간대 존재</div>
              </div>
              <div class="k">
                <div class="label">야간 평균 (22–06시)</div>
                <div class="value" id="kpi-night" data-db="42">42 dB</div>
                <div class="badge b-good">기준치 이내</div>
              </div>
            </div>

            <div class="row" style="margin-top:14px">
              <div class="col" style="flex:1 1 420px">
                <div class="sub" style="margin:6px 2px 8px">최근 24시간 추세</div>
                <div class="spark" aria-label="시간대별 데시벨 막대">
                  <!-- CSS 전용 막대: JS가 없으므로 임시 값. 나중에 data-height로 교체 가능 -->
                  <!-- data-level: good | warn | bad  -->
                  <div class="bar" style="--h:24%" data-level="good" title="00:00 · 40 dB"></div>
                  <div class="bar" style="--h:18%" data-level="good" title="01:00 · 38 dB"></div>
                  <div class="bar" style="--h:16%" data-level="good" title="02:00 · 37 dB"></div>
                  <div class="bar" style="--h:18%" data-level="good"></div>
                  <div class="bar" style="--h:22%" data-level="good"></div>
                  <div class="bar" style="--h:30%" data-level="good"></div>
                  <div class="bar" style="--h:45%" data-level="warn" title="07:00 · 통근 소음"></div>
                  <div class="bar" style="--h:55%" data-level="warn"></div>
                  <div class="bar" style="--h:42%" data-level="warn"></div>
                  <div class="bar" style="--h:36%" data-level="good"></div>
                  <div class="bar" style="--h:32%" data-level="good"></div>
                  <div class="bar" style="--h:40%" data-level="good"></div>
                  <div class="bar" style="--h:52%" data-level="warn"></div>
                  <div class="bar" style="--h:62%" data-level="warn"></div>
                  <div class="bar" style="--h:70%" data-level="bad" title="15:00 · 공사 소음"></div>
                  <div class="bar" style="--h:60%" data-level="warn"></div>
                  <div class="bar" style="--h:48%" data-level="warn"></div>
                  <div class="bar" style="--h:38%" data-level="good"></div>
                  <div class="bar" style="--h:34%" data-level="good"></div>
                  <div class="bar" style="--h:30%" data-level="good"></div>
                  <div class="bar" style="--h:26%" data-level="good"></div>
                  <div class="bar" style="--h:22%" data-level="good"></div>
                  <div class="bar" style="--h:20%" data-level="good"></div>
                  <div class="bar" style="--h:18%" data-level="good"></div>
                </div>
                <div class="spark-legend">
                  <span class="dot d-good"></span> 양호
                  <span class="dot d-warn" style="margin-left:10px"></span> 주의
                  <span class="dot d-bad" style="margin-left:10px"></span> 경고
                </div>
              </div>
              <div class="col" style="flex:1 1 320px">
                <div class="sub" style="margin:6px 2px 10px">소리 유형 TOP3</div>
                <div class="hbars">
                  <div class="hbar">
                    <div class="name">말소리</div>
                    <div class="track"><div class="fill" style="--w:68%"></div></div>
                    <div class="val">68%</div>
                  </div>
                  <div class="hbar">
                    <div class="name">TV/음향</div>
                    <div class="track"><div class="fill" style="--w:54%"></div></div>
                    <div class="val">54%</div>
                  </div>
                  <div class="hbar">
                    <div class="name">가전 소음</div>
                    <div class="track"><div class="fill" style="--w:37%"></div></div>
                    <div class="val">37%</div>
                  </div>
                </div>

                <div class="advice" style="margin-top:16px">
                  <svg viewBox="0 0 24 24" fill="#ffbe55"><path d="M11 17h2v2h-2v-2Zm0-10h2v8h-2V7Zm1-5a11 11 0 1 0 0 22 11 11 0 0 0 0-22Z"/></svg>
                  <div>
                    <div style="font-weight:700; margin-bottom:4px">개인화 주의 문구</div>
                    <div class="sub">평일 오후(15–17시)에 소음이 높아지는 경향이 있어요. 이 시간대엔 TV/음향 볼륨을 한 단계 낮추거나 창문을 닫아 보세요.</div>
                  </div>
                </div>
              </div>
            </div>

            <div class="row" style="margin-top:18px">
              <div class="col" style="flex:1 1 360px">
                <div class="banner">
                  <div>
                    <div class="title">공지 · 관리사무소 점검 안내</div>
                    <div class="sub">9/15(월) 오후 2시~4시 공용 배관 점검으로 단시간 소음 발생 가능</div>
                  </div>
                  <a class="btn" href="board.html">자세히</a>
                </div>
              </div>
              <div class="col" style="flex:1 1 360px">
                <div class="notice-list" aria-label="공지 리스트">
                  <div class="notice">
                    <div>엘리베이터 보수 작업</div>
                    <div class="meta">9/12 · 09:30</div>
                  </div>
                  <div class="notice">
                    <div>주차장 음향 경보 점검</div>
                    <div class="meta">9/11 · 16:00</div>
                  </div>
                  <div class="notice">
                    <div>분리수거일 변경 안내</div>
                    <div class="meta">9/10 · 18:00</div>
                  </div>
                </div>
              </div>
            </div>

            <div class="quick" style="margin-top:18px">
              <a class="qa" href="index.html">📝 양해글 쓰기</a>
              <a class="qa secondary" href="/messages/thread.html">💬 메시지 보내기</a>
              <a class="qa secondary" href="board.html">📌 오손도손 게시판</a>
            </div>
          </div>
        </section>

        <!-- 사이드 칼럼 -->
        <aside class="side-grid">
          <section class="card">
            <div class="card-header">
              <h3>나의 소음 패턴</h3>
              <p class="sub">요일·시간대 별 고소음 구간</p>
            </div>
            <div class="card-body">
              <!-- CSS만으로 만드는 미니 히트맵 (가로: 시간, 세로: 요일) -->
              <div class="sub" style="margin-bottom:10px">오늘 포함 최근 1주</div>
              <div style="display:grid; grid-template-columns: 60px repeat(6,1fr); gap:8px; align-items:center">
                <div class="sub">요일</div>
                <div class="sub" style="text-align:center">오전</div>
                <div class="sub" style="text-align:center">정오</div>
                <div class="sub" style="text-align:center">오후</div>
                <div class="sub" style="text-align:center">저녁</div>
                <div class="sub" style="text-align:center">야간</div>
                <div class="sub" style="text-align:center">심야</div>

                <!-- 각 행: 배경 색으로 강도 표시 (양호→주의→경고) -->
                <!-- 월 -->
                <div class="sub">월</div>
                <div style="height:18px; border-radius:6px; background:rgba(60,214,122,.25)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(110,168,255,.25)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(255,190,85,.35)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(255,107,107,.45)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(110,168,255,.25)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(60,214,122,.25)"></div>

                <!-- 화 -->
                <div class="sub">화</div>
                <div style="height:18px; border-radius:6px; background:rgba(60,214,122,.25)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(60,214,122,.25)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(255,190,85,.35)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(255,107,107,.5)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(110,168,255,.25)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(60,214,122,.25)"></div>

                <!-- 수 -->
                <div class="sub">수</div>
                <div style="height:18px; border-radius:6px; background:rgba(110,168,255,.25)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(110,168,255,.25)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(255,190,85,.4)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(255,190,85,.35)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(110,168,255,.25)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(60,214,122,.25)"></div>

                <!-- 목 -->
                <div class="sub">목</div>
                <div style="height:18px; border-radius:6px; background:rgba(60,214,122,.25)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(60,214,122,.25)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(110,168,255,.3)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(255,107,107,.55)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(255,190,85,.35)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(60,214,122,.25)"></div>

                <!-- 금 -->
                <div class="sub">금</div>
                <div style="height:18px; border-radius:6px; background:rgba(110,168,255,.28)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(110,168,255,.28)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(255,190,85,.35)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(255,190,85,.4)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(255,107,107,.5)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(60,214,122,.25)"></div>

                <!-- 토 -->
                <div class="sub">토</div>
                <div style="height:18px; border-radius:6px; background:rgba(110,168,255,.3)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(255,190,85,.4)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(255,107,107,.55)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(255,107,107,.55)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(110,168,255,.28)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(60,214,122,.25)"></div>

                <!-- 일 -->
                <div class="sub">일</div>
                <div style="height:18px; border-radius:6px; background:rgba(110,168,255,.25)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(110,168,255,.25)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(255,190,85,.35)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(255,190,85,.35)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(110,168,255,.25)"></div>
                <div style="height:18px; border-radius:6px; background:rgba(60,214,122,.25)"></div>
              </div>
            </div>
          </section>

          <section class="card">
            <div class="card-header">
              <h3>오손도손 소통</h3>
              <p class="sub">최근 대화 및 빠른 이동</p>
            </div>
            <div class="card-body">
              <div class="notice" style="margin-bottom:10px">
                <div>‘분리수거 시간 조정’ 스레드가 새 답장을 받았어요.</div>
                <a class="btn" href="/messages/thread.html">열기</a>
              </div>
              <div class="notice">
                <div>단어 필터링이 켜져 있습니다.</div>
                <div class="meta">부적절 단어 자동 차단</div>
              </div>
              <div class="quick" style="margin-top:12px">
                <a class="qa secondary" href="/messages/thread.html">대화함 가기</a>
                <a class="qa secondary" href="/board/">게시판 홈</a>
              </div>
            </div>
          </section>

          <section class="card">
            <div class="card-header">
              <h3>계정 & 도움말</h3>
              <p class="sub">설정 · FAQ · 관리사무소</p>
            </div>
            <div class="card-body">
              <div class="row">
                <a class="btn" href="/settings/profile.html">프로필</a>
                <a class="btn" href="/settings/faq.html">자주 묻는 질문</a>
                <a class="btn" href="/settings/contact.html">관리사무소 연락</a>
              </div>
            </div>
          </section>
        </aside>
      </div>
    </main>

    <footer>
      <div>※ 실제 센서·차트 데이터는 추후 <strong>Firebase</strong>와 연동하여 채워질 영역입니다. 현재 화면은 <strong>HTML/CSS 프로토타입</strong>입니다.</div>
    </footer>
  </div>
</body>
</html>
